<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="keywords" content="Code Relay by BITS-ACM">
  <meta name="author" content="Honnesh Rohmetra">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
  
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Montserrat"/>

  <link rel="stylesheet" href="css\codemirror.css">
  <script src="{% static 'js/codemirror.js' %}"></script>
  <script src="{% static 'js/mode/simple.js' %}"></script>
  <script src="{% static 'js/mode/clike.js' %}"></script>
  <script src="{% static 'js/mode/clojure.js' %}"></script>
  <script src="{% static 'js/mode/crystal.js' %}"></script>
  <script src="{% static 'js/mode/elixir.js' %}"></script>
  <script src="{% static 'js/mode/erlang.js' %}"></script>
  <script src="{% static 'js/mode/go.js' %}"></script>
  <script src="{% static 'js/mode/haskell.js' %}"></script>
  <script src="{% static 'js/mode/javascript.js' %}"></script>
  <script src="{% static 'js/mode/mllike.js' %}"></script>
  <script src="{% static 'js/mode/octave.js' %}"></script>
  <script src="{% static 'js/mode/pascal.js' %}"></script>
  <script src="{% static 'js/mode/python.js' %}"></script>
  <script src="{% static 'js/mode/ruby.js' %}"></script>
  <script src="{% static 'js/mode/rust.js' %}"></script>
  <script src="{% static 'js/mode/shell.js' %}"></script>

  <script src="{% static 'js/download.js' %}"></script>

  <link rel="stylesheet" href="css\addon\dialog.css">

  <script src="{% static 'js/addon/searchcursor.js' %}"></script>
  <script src="{% static 'js/addon/search.js' %}"></script>
  <script src="{% static 'js/addon/dialog.js' %}"></script>
  <script src="{% static 'js/addon/matchbrackets.js' %}"></script>
  <script src="{% static 'js/addon/closebrackets.js' %}"></script>

  <script src="{% static 'js/keymap/vim.js' %}"></script>

  <link rel="stylesheet" href="css\ide.css">
  <script src="{% static 'js/ide.js' %}"></script>

  <title>CODE RELAY</title>
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
</head>

<script>
$(document).ready(function(){

  $("#runBtn").click(function(e) {
    $.ajax({
        url: '/ajax/runcode/',
        data: {
          'code': sourceEditor.getValue(),
          'input': inputEditor.getValue(),
          'lang': $("#selectLanguageBtn").val(),
        },
        dataType: 'json',
        success: function (data) {
            console.log(data.output);
            outputEditor.setValue(data.output);
            document.getElementById("abc").innerHTML = data.output;
          
        }
      });
  });

  });

</script>

<script>
$(document).ready(function(){

  $("#saveBtn").click(function(e) {
    $.ajax({
        url: '/ajax/savecode/',
        data: {
          'code': sourceEditor.getValue(),
          'lang': $("#selectLanguageBtn").val(),
        },
        dataType: 'json',
        success: function (data) {
            console.log(data);
                sourceEditor.setValue(data.code);

        }
      });});
  });

</script>
  <script>
// Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<body>
<span style="color:#f1f3f1;font-family:montserrat;font-weight:900; font-size:250%;">CODE</span><span style="color:#111;font-family:montserrat;font-weight:900; font-size:250%;">RELAY</span>
<span style="color:#f1f3f1;font-family:montserrat;font-weight:100; font-size:150%;margin-left:25%;">SWAP IN-</span><span style="color:#111;font-family:montserrat;font-weight:100; font-size:150%;">11:35</span>
<h3><span style="color:#f1f3f1;float: right;margin-top: -5%;margin-right: 15%;font-weight:100;">PersonName</span>&nbsp;<span style="color:#111;float: right;margin-top: -5%; font-weight: 100;">TeamName</span></h3>


  <nav class="navbar navbar-default navbar-static-top">
    <!--<div class="container-fluid" id="top">-->
      <div class="navbar-header">
        <a class="navbar-brand newnav" href="">

  
         <!-- <span style="color:#f1f3f1;font-family:montserrat;font-weight:900">CODE</span><span style="color:#111;font-family:montserrat;font-weight:900">RELAY</span>-->
        </a>
      </div>
      <div class="navbar-form navbar-right">
        <div class="input-group">
          <div class="input-group-btn">
            <!--<button id="insertTemplateBtn" type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Insert template">-->
              <span class="glyphicon glyphicon-file" style="background-color:#00B8D4" aria-hidden="true"></span>
            </button>
          </div>
          <select class="form-control" id="selectLanguageBtn" style="background-color:#00B8D4; color:white">
            <option value="4" mode="text/x-csrc">C (gcc 7.2.0)</option>
            <option value="10" mode="text/x-c++src">C++ (g++ 7.2.0)</option>
            <option value="26" mode="text/x-java">Java</option>
            <option value="35" mode="text/x-python">Python (3.5.3)</option>
            <option value="36" mode="text/x-python">Python (2.7.9)</option>
          </select>
        </div>
        <button class="btn btn-info" id="runBtn" data-loading-text="Running...">
          <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Run (F9)
        </button>
        <button class="btn btn-info" id="saveBtn" data-loading-text="Saving...">
          <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Save (Ctrl+S)
        </button>
		        <button class="btn btn-success" id="submitBtn" data-loading-text="Submitting...">
          <span class="" aria-hidden="true"></span> Submit
        </button>
		        <button class="btn btn-warning" id="quitBtn" data-loading-text="Quitting...">
          <span class="glyphicon glyphicon-home" aria-hidden="true"></span> Quit Race
        </button>
        <button class="btn btn-default" id="downloadSourceBtn" data-toggle="tooltip" data-placement="bottom" title="Download source">
          <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
        </button>
        <div class="vertical-spacer"></div>
        <input type="checkbox" id="vimCheckBox" data-toggle="toggle" data-on="Vim Mode On" data-off="Vim Mode Off" data-onstyle="success">
      </div>
    </div>
	<!--<h3><span style="color:#f1f3f1;float: right;margin-top: -4%;margin-right: 15%;font-weight: 300;">PersonName</span>&nbsp;<span style="color:#111;float: right;margin-top: -4%; font-weight: 900;">TeamName</span></h3>
  --></nav>

  <div id="sourceEditor"><textarea style="width:95%; height:95%; margin:1%; margin-left:3%;" placeholder="Code" rows="20" name="comment[text]" id="comment_text" cols="40" class="ui-autocomplete-input" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true"></textarea></div>

  <div class="container-fluid">
    <div class="row labels">
      <div id="inputLabel" class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
        <h4>
          <span class="glyphicon glyphicon-log-in" aria-hidden="true"></span> Input <small>optional</small>
          <button class="btn btn-default pull-right" id="downloadInputBtn" data-toggle="tooltip" data-placement="top" title="Download input">
            <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
          </button>
		  
        </h4>
      </div>
      <div id="outputLabel" class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
        <h4>
          <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Output <small id="emptyIndicator">empty</small>
          <button class="btn btn-default pull-right" id="downloadOutputBtn" data-toggle="tooltip" data-placement="top" title="Download output">
            <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
          </button>
          <small class="pull-right" id="statusLine"></small>
		
        </h4>
      </div>
    </div>

    <div class="row ioEditors">
      <div id="inputEditor" class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
	  <textarea placeholder="Input" rows="20" name="comment[text]" id="comment_text" cols="40" class="ui-autocomplete-input" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true"></textarea></div>
      <div id="outputEditor" class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
	    <textarea placeholder="Output" rows="20" name="comment[text]" id="comment_text" cols="40" class="ui-autocomplete-input" autocomplete="off" role="textbox" aria-autocomplete="list" aria-haspopup="true"></textarea></div>
    </div>
    <p id="abc"></p>
    </div>
</body>
</html>
